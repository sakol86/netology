
# Домашнее задание к занятию 2. «Применение принципов IaaC в работе с виртуальными машинами»

`Александр Соколов`

## Задача 1

- Опишите основные преимущества применения на практике IaaC-паттернов.
- Какой из принципов IaaC является основополагающим?

`Ответ:`

Основные преимущества применения на практике IaaC-паттернов:
Автоматизация: Использование IaaC позволяет автоматизировать процесс развертывания инфраструктуры, что упрощает и ускоряет работу команды разработчиков. За счет автоматизации можно свести к минимуму человеческий фактор и потенциальные ошибки при установке и настройке инфраструктуры.

Масштабируемость: IaaC позволяет быстро масштабировать инфраструктуру в зависимости от потребностей проекта. С помощью кода можно легко добавить или удалить ресурсы, настроить их параметры и определить требования к производительности.

Управляемость: Благодаря использованию IaaC-паттернов можно легче управлять инфраструктурой, отслеживать изменения и контролировать конфигурацию. Это облегчает задачу DevOps-инженеров и позволяет быстро реагировать на изменения в проекте.

Основополагающим принципом IaaC является декларативность.
Декларативность предполагает описание требуемого состояния инфраструктуры, а не настройку каждого отдельного компонента. Вместо того, чтобы руководствоваться последовательностью команд для настройки сервера, мы описываем конечное состояние, которое мы хотим достигнуть, и инструменты IaaC заботятся о применении всех необходимых изменений. Это позволяет декларативно описывать инфраструктуру как код и упрощает ее поддержку и изменение.

## Задача 2

- Чем Ansible выгодно отличается от других систем управление конфигурациями?
- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный — push или pull?

`Ответ:`

Чем Ansible выгодно отличается от других систем управления конфигурацией?
Простота: Ansible использует простой и понятный язык описания конфигурации, основанный на YAML. Это делает его легко доступным для разработчиков, администраторов и других участников команды.

Агентless: Ansible является агентless-системой, что означает, что на управляемых узлах не требуется установка дополнительного программного обеспечения или агентов. Это упрощает внедрение и обновление инфраструктуры.

Расширяемость: Ansible предоставляет возможность написания собственных модулей и плагинов для автоматизации различных задач. Это позволяет настраивать инструмент под конкретные потребности проекта.

Какой метод работы систем конфигурации более надёжный — push или pull?
На самом деле, выбор метода работы системы управления конфигурацией зависит от конкретных потребностей и требований проекта. Каждый метод имеет свои преимущества и недостатки.

Push: В методе push сервер отправляет команды и конфигурационные файлы на управляемые узлы, устанавливая и настраивая их. Этот метод обеспечивает более активное управление инфраструктурой и позволяет быстро применять изменения на узлах. Однако, он также может быть более рискованным, особенно при работе с большим количеством узлов или в условиях нестабильной сети.

Pull: В методе pull управляемые узлы периодически запрашивают конфигурацию от сервера и применяют ее локально. Этот метод обеспечивает более надежное обновление конфигурации и избежание потенциальных рисков при работе с большим количеством узлов или при наличии ограниченной сетевой пропускной способности. Однако, он может требовать больше ресурсов для поддержания такой системы и может быть менее отзывчивым при необходимости немедленного применения изменений.

На первый взгляд push, так как конфигурация отправляется управляющим сервером, который проще мониторить на возникновение ошибок или сетевых проблем.

При pull реализации необходимы системы с агентами. Что вызовет дополнительный расход ресурсов специалистов для подготовки машин.



## Задача 3

Установите на личный компьютер:

- [VirtualBox](https://www.virtualbox.org/),
- [Vagrant](https://github.com/netology-code/devops-materials),
- [Terraform](https://github.com/netology-code/devops-materials/blob/master/README.md),
- Ansible.

*Приложите вывод команд установленных версий каждой из программ, оформленный в Markdown.*

`Ответ:`
```
### Версия VirtualBox:
- Выполните команду `vboxmanage --version`.

Версия VirtualBox: 6.1.18
```
```
### Версия Vagrant:
- Выполните команду `vagrant --version`.

Vagrant 2.2.14
```
```
### Версия Terraform:
- Выполните команду `terraform --version`.

Terraform v0.12.29
```

```
### Версия Ansible:
- Выполните команду `ansible --version`.

ansible 2.9.6
  config file = None
  configured module search path = ['/home/user/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  executable location = /usr/bin/ansible
  python version = 3.8.10 (default, Mar  15 2022, 08:13:19) [GCC 9.4.0]

  ```

## Задача 4 

Воспроизведите практическую часть лекции самостоятельно.

- Создайте виртуальную машину.
- Зайдите внутрь ВМ, убедитесь, что Docker установлен с помощью команды
```
docker ps,
```
![Alt text](image.png)
Vagrantfile из лекции и код ansible находятся в [папке](https://github.com/netology-code/virt-homeworks/tree/virt-11/05-virt-02-iaac/src).

Примечание. Если Vagrant выдаёт ошибку:
```
URL: ["https://vagrantcloud.com/bento/ubuntu-20.04"]     
Error: The requested URL returned error: 404:
```

выполните следующие действия:

1. Скачайте с [сайта](https://app.vagrantup.com/bento/boxes/ubuntu-20.04) файл-образ "bento/ubuntu-20.04".
2. Добавьте его в список образов Vagrant: "vagrant box add bento/ubuntu-20.04 <путь к файлу>".

*Приложите скриншоты в качестве решения на эту задачу.*

`Ответ:`

```
PLAY [nodes]
头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头*头头头*
TASK [Gathering Facts]
*********************************************************
[WARNING]: Module invocation had junk after the JSON data:
AttributeError ("module 'platform' has no attribute 'dist'")
ok: [server.netology]
TASK [Create directory for ssh-keys]
******米*头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头头水水
ok: [server .netology]
TASK [Adding rsa-key in /root/.ssh/authorized_keys] ****** changed: [ server.netology]
TASK [Checking DNS]
changed: [server.netology]
TASK [Installing tools]
********************************
*冰米米水米水水水水米水水水水水水水水米米
ok: [server.netology] = (item-[u'git', u' curl'])
TASK [Installing docker]
天头天天头天天头天张头张爱爱头头张爱爱还头还还头来还爱还头还头头头头头头头头头头天头天天头天天天天头天还还还还
changed: [server.netology]
TASK [Add the current user to docker group]
************************************
changed: [server.netology]
PLAY RECAP
兴长头沃采沃沃条务务关关务务采务务务爱务买务务务务务爱务务爱死务来务买爱采头买头来头头来头头头来来头头头来头采来来来头来来还还来还还买张买
server. netology
: 0k=7
changed=4
unreachable=0
failed=0

```

```
vagrant@server:~$ sudo docker ps
CONTAINER IDIMAGE COMMAND CREATED STATUS PORTS NAMES
```

